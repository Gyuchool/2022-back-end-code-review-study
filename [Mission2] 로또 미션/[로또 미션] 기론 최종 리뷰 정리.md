# 로또 미션 피드백 정리
## 멀티 스레드 환경에서 상태 공유를 고려하라.
- [comment](https://github.com/woowacourse/java-lotto/pull/334#discussion_r813438929)
- 컨트롤러와 같은 클래스에서 상태를 가지고 있게 되면 멀티 스레드 환경에서는 적합하지 않다.
- 상태를 가지고 있는 상태에서 다른 요청이 들어오면 중간에 값이 변경이 될 수 있기 때문이다.
- 따라서 상태를 완전히 제거해주도록 해야한다.

그렇다면 final로 불변의 상태를 만들면 괜찮지 않을까?
> final을 추가하면 재할당은 안되지만 객체 내부 상태는 변경될 수 있지 않을까요?
> 그것도 같이 고민해서 내부 상태를 갖지 않도록 하면 될 것 같아요!

## 생성자와 정적 팩토리 매서드
- [comment](https://github.com/woowacourse/java-lotto/pull/334#discussion_r813759825)
- 정적 팩토리 매서드로 객체들을 생성하기 때문에 `검증`,`정렬`같은 기능을 정적 펙토리 매서드에만 넣었었다.
- 생성자가 `public`으로 열려있으면 다른 개발자가 사용할수도 있기 때문에 `검증`, `정렬`과 같은 로직들은 생성자에 넣어주자!

## VO (Value Object)
spring에서는 @Embedded로 감싸지고 `값 타입`으로도 불리는 객체이다.
불변한 객체를 만들기 위함으로 VO를 만드는데에는 규칙이 있다.
1. *equals & hash code*

타입과 내부 속성이 같다면 같은 객체로 취급하는게 객체지향적으로도 맞기 때문에 VO는 equals & hashCode를 정의해줘야 한다.
즉, 동일성과 동등성을 보장해줘야 한다.


2. *Setter가 없는 불변 객체여야 한다.*

Entity가 식별자로 구분을 하지만 VO는 구별할 식별자가 따로 없이 객체 자신으로 구별해야한다. 
즉, VO의 값이 바뀌면 다른 값이 되어 추적이 불가하고, 복사될 때는 의도치 않은 객체들이 함께 변경되는 문제를 유발한다.



